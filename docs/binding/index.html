<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">

    <title>Binding | JSON-RPC API Server for Laravel</title>


<meta name="title" content="Binding | JSON-RPC API Server for Laravel">
<meta name="description" content="Different methods for binding allows you to conveniently access objct instances created from the request parameters">






<meta property="og:type" content="website">
<meta property="og:url" content="https://sajya.github.io/docs/binding"/>
<meta property="og:locale" content="en"/>
<meta property="og:title" content="Binding | JSON-RPC API Server for Laravel"/>
<meta property="og:description" content="Different methods for binding allows you to conveniently access objct instances created from the request parameters">
<meta property="og:image" content="https://opengraph.githubassets.com/master/sajya/server">


<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:url" content="https://sajya.github.io/docs/binding">
<meta name="twitter:title" content="Binding | JSON-RPC API Server for Laravel">
<meta name="twitter:description" content="Different methods for binding allows you to conveniently access objct instances created from the request parameters">
<meta name="twitter:image" content="https://opengraph.githubassets.com/master/sajya/server">

    <meta name="google-site-verification" content="CezCm3VnIMolzHC65_TaI0DMhs4fJv2A7fWTPJrnp9s" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#8ea8af">
    <meta name="msapplication-TileColor" content="#2d89ef">
    <meta name="theme-color" content="#ffffff">

    
    <link rel="home" href="https://sajya.github.io">

    <link rel="stylesheet" href="/css/app.css?id=2ff350144da09be8f3d46ed4b2516f42">
</head>

<body>



    <div class="position-relative overflow-hidden">
        <div class="d-flex flex-lg-row flex-column gap-lg-5" id="docs">
            <div class="col-12 col-xl-3 col-md-4 bg-gray d-lg-flex ps-lg-5 side">
                <nav class="nav-docs px-md-5 py-2 px-3 ms-auto mt-md-4">


    <a href="/" class="link-body-emphasis d-none d-lg-flex my-4 gap-2 text-decoration-none align-items-center">
        <svg fill="currentColor" width="48px" height="48px" xmlns="http://www.w3.org/2000/svg" viewBox="231 232 276.5 275.49"><path d="M504.07 328.344H391.678C388.889 328.344 387.237 325.261 388.779 322.949L444.938 237.395C446.443 235.083 444.791 232 442.038 232H347.485C346.31 232 345.209 232.587 344.585 233.578L231.57 405.75C230.065 408.063 231.717 411.145 234.469 411.145H278.589V411.256H328.765H346.751C349.504 411.256 351.192 414.339 349.651 416.651L293.565 502.095C292.06 504.407 293.712 507.49 296.465 507.49H391.018C392.192 507.49 393.293 506.903 393.917 505.912L506.933 333.74C508.438 331.427 506.786 328.344 504.033 328.344H504.07ZM481.276 347.613L386.503 492.038C385.842 493.029 384.778 493.616 383.603 493.616H322.269C319.479 493.616 317.827 490.533 319.369 488.221L368.848 412.834C369.508 411.843 370.573 411.256 371.747 411.256H401.222C403.828 415.99 408.82 419.257 414.619 419.257C423.098 419.257 429.925 412.393 429.925 403.952C429.925 395.51 423.061 388.647 414.619 388.647C408.526 388.647 403.277 392.244 400.818 397.419H378.978H292.501V397.309H260.2C257.41 397.309 255.758 394.226 257.3 391.913L352.073 247.489C352.734 246.498 353.798 245.91 354.973 245.91H416.307C419.097 245.91 420.749 248.993 419.207 251.306L369.655 326.803C368.994 327.794 367.93 328.381 366.755 328.381H337.942C335.446 323.353 330.27 319.866 324.287 319.866C315.808 319.866 308.981 326.729 308.981 335.171C308.981 343.613 315.845 350.476 324.287 350.476C330.197 350.476 335.226 347.099 337.795 342.218H478.376C481.166 342.218 482.818 345.301 481.276 347.613Z"/> </svg>
        <span class="h2 fw-light mb-0">Sajya</span>
    </a>

            <h5 class="font-weight-normal my-md-3 my-2 me-2 me-md-0 d-none d-md-inline-block text-secondary">Prologue</h5>

        <ul>
                            <li class="border-start border-3 px-2 px-md-3 py-1 ">
                    <a href="/" class="text-decoration-none">
                        Home
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-md-3 py-1 ">
                    <a href="/docs" class="text-decoration-none">
                        Introduction
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-md-3 py-1 ">
                    <a href="/docs/specification" class="text-decoration-none">
                        Specification
                    </a>
                </li>
                    </ul>
            <h5 class="font-weight-normal my-md-3 my-2 me-2 me-md-0 d-none d-md-inline-block text-secondary">Getting Started</h5>

        <ul>
                            <li class="border-start border-3 px-2 px-md-3 py-1 ">
                    <a href="/docs/quickstart" class="text-decoration-none">
                        Quick Start
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-md-3 py-1 ">
                    <a href="/docs/notifications" class="text-decoration-none">
                        Notifications
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-md-3 py-1 ">
                    <a href="/docs/batch" class="text-decoration-none">
                        Batch
                    </a>
                </li>
                    </ul>
            <h5 class="font-weight-normal my-md-3 my-2 me-2 me-md-0 d-none d-md-inline-block text-secondary">Application</h5>

        <ul>
                            <li class="border-start border-3 px-2 px-md-3 py-1 ">
                    <a href="/docs/authentication" class="text-decoration-none">
                        Authentication
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-md-3 py-1 ">
                    <a href="/docs/requests" class="text-decoration-none">
                        Validation and Data
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-md-3 py-1 ">
                    <a href="/docs/errors" class="text-decoration-none">
                        Error Handling
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-md-3 py-1 border-secondary active-doc-menu">
                    <a href="/docs/binding" class="text-secondary">
                        Binding
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-md-3 py-1 ">
                    <a href="/docs/testing" class="text-decoration-none">
                        Testing
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-md-3 py-1 ">
                    <a href="/docs/proxy" class="text-decoration-none">
                        Proxy
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-md-3 py-1 ">
                    <a href="/docs/security" class="text-decoration-none">
                        Security
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-md-3 py-1 ">
                    <a href="/docs/compression" class="text-decoration-none">
                        Compression
                    </a>
                </li>
                    </ul>
            <h5 class="font-weight-normal my-md-3 my-2 me-2 me-md-0 d-none d-md-inline-block text-secondary">Other Usage</h5>

        <ul>
                            <li class="border-start border-3 px-2 px-md-3 py-1 ">
                    <a href="/docs/basic-application" class="text-decoration-none">
                        Basic Application
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-md-3 py-1 ">
                    <a href="/docs/api-docs-generator" class="text-decoration-none">
                        Docs Generator
                    </a>
                </li>
                            <li class="border-start border-3 px-2 px-md-3 py-1 ">
                    <a href="/docs/client" class="text-decoration-none">
                        HTTP Client
                    </a>
                </li>
                    </ul>
    </nav>
            </div>
            <div class="col-12 col-lg-6 d-lg-flex min-vh-100">
                <div class="documentation position-relative mx-auto mb-4 mb-md-5 mt-md-4 overflow-hidden">
                    <main class="py-2 px-3 py-md-4 px-md-4 ms-md-4 me-md-auto order-md-first overflow-auto">

                        <div class="d-flex align-items-start">
                            <h1 class="display-5 w-75 mb-lg-5 my-4">
                                Binding
                            </h1>

                            <div class="d-flex ms-auto">
                                <a href="https://github.com/sajya/sajya.github.io/edit/master/docs/binding.md" class="mx-auto d-none d-md-flex align-items-center text-decoration-none text-nowrap small text-muted"
                                   title="View and edit this file on GitHub" target="_blank" rel="noopener"
                                >
                                    <svg class="me-2" xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 32 32" fill="currentColor">
                                        <path d="M30.133 1.552c-1.090-1.044-2.291-1.573-3.574-1.573-2.006 0-3.47 1.296-3.87 1.693-0.564 0.558-19.786 19.788-19.786 19.788-0.126 0.126-0.217 0.284-0.264 0.456-0.433 1.602-2.605 8.71-2.627 8.782-0.112 0.364-0.012 0.761 0.256 1.029 0.193 0.192 0.45 0.295 0.713 0.295 0.104 0 0.208-0.016 0.31-0.049 0.073-0.024 7.41-2.395 8.618-2.756 0.159-0.048 0.305-0.134 0.423-0.251 0.763-0.754 18.691-18.483 19.881-19.712 1.231-1.268 1.843-2.59 1.819-3.925-0.025-1.319-0.664-2.589-1.901-3.776zM22.37 4.87c0.509 0.123 1.711 0.527 2.938 1.765 1.24 1.251 1.575 2.681 1.638 3.007-3.932 3.912-12.983 12.867-16.551 16.396-0.329-0.767-0.862-1.692-1.719-2.555-1.046-1.054-2.111-1.649-2.932-1.984 3.531-3.532 12.753-12.757 16.625-16.628zM4.387 23.186c0.55 0.146 1.691 0.57 2.854 1.742 0.896 0.904 1.319 1.9 1.509 2.508-1.39 0.447-4.434 1.497-6.367 2.121 0.573-1.886 1.541-4.822 2.004-6.371zM28.763 7.824c-0.041 0.042-0.109 0.11-0.19 0.192-0.316-0.814-0.87-1.86-1.831-2.828-0.981-0.989-1.976-1.572-2.773-1.917 0.068-0.067 0.12-0.12 0.141-0.14 0.114-0.113 1.153-1.106 2.447-1.106 0.745 0 1.477 0.34 2.175 1.010 0.828 0.795 1.256 1.579 1.27 2.331 0.014 0.768-0.404 1.595-1.24 2.458z"></path>
                                    </svg>
                                    Suggest Edit
                                </a>
                            </div>
                        </div>

                        <body><h2><a href='#passing-values-to-arguments' id='passing-values-to-arguments'>Passing Values to Arguments</a></h2>
<p>When working with Sajya, you can easily pass values to the arguments in your handlers. This allows you to retrieve and use the data you need to perform specific actions.</p>
<p>Let&rsquo;s consider an example where we want to subtract two values. In the JSON-RPC request, we pass the values <code>a</code> and <code>b</code>:</p>
<pre><code class="language-javascript">{
    "jsonrpc": "2.0",
    "method": "math@subtract",
    "params": {
        "a": 4,
        "b": 2
    },
    "id": 1
}
</code></pre>
<p>To access these values in the handler, you can use the Laravel <code>Request</code> object. Here&rsquo;s an example implementation:</p>
<pre><code class="language-php">use Illuminate\Http\Request;

public function subtract(Request $request): int
{
    return $request-&gt;get('a') - $request-&gt;get('b');
}
</code></pre>
<p>Alternatively, you can leverage Sajya&rsquo;s automatic argument binding feature. Simply define the argument types in the handler method signature, and Sajya will automatically bind the corresponding values based on their names. For example:</p>
<pre><code class="language-php">public function subtract(int $a, int $b): int
{
    return $a - $b;
}
</code></pre>
<p>This way, Sajya will automatically pass the values <code>a</code> and <code>b</code> as integers to the handler method.</p>
<p>Furthermore, if your request payload contains nested data, you can access it using camel case notation. Consider the following example where the <code>params</code> object has a nested property <code>user</code> with a <code>name</code> value:</p>
<pre><code class="language-javascript">{
    "jsonrpc": "2.0",
    "method": "....",
    "params": {
        "user": {
            "name": "Alex"
        }
    },
    "id": 1
}
</code></pre>
<p>To access the <code>name</code> value in your handler, you would define an argument with the same name in camel case:</p>
<pre><code class="language-php">public function handler(string $userName): string
{
    return $userName;
}
</code></pre>
<p>With this setup, Sajya will automatically bind the value <code>"Alex"</code> to the <code>$userName</code> argument in your handler method.</p>
<h2><a href='#customizing-the-resolution-logic' id='customizing-the-resolution-logic'>Customizing The Resolution Logic</a></h2>
<p>If you wish to define your model binding resolution logic, you may use the <code>RPC::bind</code> method. The closure you pass to the bind method will receive the value of the params segment and should return the instance of the class that should be injected into the route. Again, this customization should take place in the boot method of your application&rsquo;s <code>RouteServiceProvider</code>:</p>
<pre><code class="language-php">use Sajya\Server\Facades\RPC;
use Illuminate\Support\Facades\Route;

/**
 * Define your route model bindings, pattern filters, etc.
 *
 * @return void
 */
public function boot()
{
    RPC::bind('a', function () {
        return 100;
    });
}
</code></pre>
<p>This will automatically replace the substituted value in our method:</p>
<pre><code class="language-php">public function subtract(int $a, int $b): int
{
    return $a - $b; // $a = 100
}
</code></pre>
<p>But at the same time, the request will contain the original value that was passed.</p>
<h2><a href='#explicit-model-binding' id='explicit-model-binding'>Explicit Model Binding</a></h2>
<p>To register an explicit binding, use the <code>RPC::model</code> method to specify the class for a given parameter. It would help if you defined your explicit model bindings at the beginning of the <code>boot</code> method of your <code>RouteServiceProvider</code> class:</p>
<pre><code class="language-php">use Sajya\Server\Facades\RPC;
use Illuminate\Support\Facades\Route;

/**
 * Define your route model bindings, pattern filters, etc.
 *
 * @return void
 */
public function boot()
{
    RPC::model('user', User::class);
}
</code></pre>
<p>It will work for anyone who expects a <code>$user</code> argument, and that value will be passed. The model will run the <code>resolveRouteBinding</code> method.</p>
<h2><a href='#deep-binding' id='deep-binding'>Deep binding</a></h2>
<p>As with automatic substitution, bindings <code>RPC::bind</code> and <code>RPC::model</code> can be set for nested elements. To do this, you need to use the <code>dot</code> notation in the declaration. For example:</p>
<pre><code class="language-php">RPC::model('user.order', ...);
RPC::bind('user.order', ...;
</code></pre>
<p>In turn, this will expect <code>camelCase</code> in the arguments:</p>
<pre><code class="language-php">public function handler($userOrder)
</code></pre>
</body>                    </main>
                </div>
            </div>
        </div>
    </div>


    



<script src="/js/app.js?id=1cab8abf484910fe694cdf46cffd4186"></script>

<!-- Insert analytics code here -->
    <!-- Yandex.Metrika counter -->
    <script type="text/javascript" >
        (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
            m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
        (window, document, "script", "https://cdn.jsdelivr.net/npm/yandex-metrica-watch/tag.js", "ym");

        ym(61197199, "init", {
            clickmap:true,
            trackLinks:true,
            accurateTrackBounce:true,
            webvisor:true
        });
    </script>
    <noscript><div><img src="https://mc.yandex.ru/watch/61197199" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
    <!-- /Yandex.Metrika counter -->


    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-39757298-6"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-39757298-6');
   </script>

</body>
</html>
