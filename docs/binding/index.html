<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="description" content="Different methods for binding allows you to conveniently access objct instances created from the request parameters">

    <meta property="og:site_name" content="JSON-RPC API server for Laravel framework"/>
    <meta property="og:title" content="Requests binding for JSON-RPC | JSON-RPC API server for Laravel framework"/>
    <meta property="og:description" content="Different methods for binding allows you to conveniently access objct instances created from the request parameters"/>
    <meta property="og:url" content="/docs/binding"/>
    <meta property="og:image" content="/assets/img/logo.png"/>
    <meta property="og:type" content="website"/>

    <meta name="twitter:image:alt" content="JSON-RPC API server for Laravel framework">
    <meta name="twitter:card" content="summary_large_image">
    
    <meta name="google-site-verification" content="CezCm3VnIMolzHC65_TaI0DMhs4fJv2A7fWTPJrnp9s" />

    
    <title>Requests binding for JSON-RPC | JSON-RPC API server for Laravel framework</title>

    <link rel="home" href="">

    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#8ea8af">
    <meta name="msapplication-TileColor" content="#2d89ef">
    <meta name="theme-color" content="#ffffff">

    
    <link rel="stylesheet" href="/assets/build/css/main.css?id=9bef9e04e9edc355c05cc94856a4998f">

    </head>


<body class='page'>
<div class="wrapper">
    <div class='header'>
        <div class="container">
            <div class="logo">
                <a href="/">
                    <img src="/assets/img/logo.svg" alt="JSON-RPC API server for Laravel framework"/>
                </a>
            </div>
            <div class="logo-mobile">
                <a href="/"><img alt="Logo" src="/assets/img/logo.svg"/></a>
            </div>
            <div id="main-menu" class="main-menu">
                <ul>


                    <li class="menu-item-home ">
                        <a href="/">
                            <span>Home</span>
                        </a>
                    </li>

                    <li class="menu-item-docs active">
                        <a href="/docs/" title="Read the Sajya documentation">
                            <span>Docs</span>
                        </a>
                    </li>

                    <li class="menu-item-docs">
                        <a href="https://github.com/sajya" target="_blank" title="Contribute to Sajya on GitHub">
                            <span>GitHub</span>
                        </a>
                    </li>

                </ul>
            </div>
        </div>
    </div>


    



<div class="page-default-list">
    <div class="container pt-2 pt-md-6 pb-3 pb-md-6">
        <div class="row">
            <div class="col-12 col-md-3 mb-3">
                <div class="sidebar">

                    <div class="docs-menu">
                        <nav id="js-nav-menu" class="nav-menu hidden lg:block">
                            <ul class="pl-0">
            <li>
            
        <h4>Prologue</h4>
    
            
        <ul class="pl-1">
            <li>
            
        <a href="/docs"
            class="lvl1  "
        >
            Introduction
        </a>
    
    </li>
            <li>
            
        <a href="/docs/specification"
            class="lvl1  "
        >
            Specification
        </a>
    
    </li>
    </ul>
    </li>
            <li>
            
        <h4>Getting Started</h4>
    
            
        <ul class="pl-1">
            <li>
            
        <a href="/docs/installation"
            class="lvl1  "
        >
            Installation
        </a>
    
    </li>
            <li>
            
        <a href="/docs/quickstart"
            class="lvl1  "
        >
            Quick Start
        </a>
    
    </li>
            <li>
            
        <a href="/docs/notifications"
            class="lvl1  "
        >
            Notifications
        </a>
    
    </li>
            <li>
            
        <a href="/docs/batch"
            class="lvl1  "
        >
            Batch
        </a>
    
    </li>
    </ul>
    </li>
            <li>
            
        <h4>Application</h4>
    
            
        <ul class="pl-1">
            <li>
            
        <a href="/docs/authentication"
            class="lvl1  "
        >
            Authentication
        </a>
    
    </li>
            <li>
            
        <a href="/docs/requests"
            class="lvl1  "
        >
            Validation and Data
        </a>
    
    </li>
            <li>
            
        <a href="/docs/api-docs-generator"
            class="lvl1  "
        >
            Docs Generator
        </a>
    
    </li>
            <li>
            
        <a href="/docs/binding"
            class="lvl1  active"
        >
            Binding
        </a>
    
    </li>
            <li>
            
        <a href="/docs/testing"
            class="lvl1  "
        >
            Testing
        </a>
    
    </li>
            <li>
            
        <a href="/docs/compression"
            class="lvl1  "
        >
            Compression
        </a>
    
    </li>
    </ul>
    </li>
            <li>
            
        <h4>Other Usage</h4>
    
            
        <ul class="pl-1">
            <li>
            
        <a href="/docs/basic-application"
            class="lvl1  "
        >
            Basic Application
        </a>
    
    </li>
    </ul>
    </li>
    </ul>
                        </nav>
                    </div>

                </div>
            </div>
            <div class="col-12 col-md-9">

                <main class="content">
                    <h1>Binding</h1>
<hr />
<h2>Passing Values to Arguments</h2>
<p>For example, let's take the following simple procedure, where we pass two values for which we want to get the subtract:</p>
<pre><code class="language-javascript">{
    "jsonrpc": "2.0",
    "method": "math@subtract",
    "params": {
        "a": 4,
        "b": 2
    },
    "id": 1
}</code></pre>
<p>In this case, we need to write something like the following in the handler:</p>
<pre><code class="language-php">public function subtract(Request $request) {
    return $request-&gt;get('a') - $request-&gt;get('b');
}</code></pre>
<p>Automatic passing of arguments will be by name:</p>
<pre><code class="language-php">public function subtract(int $a, int $b): int
{
    return $a - $b;
}</code></pre>
<p>This will also work for deep things via <code>camelCase</code>:</p>
<pre><code class="language-php">{
    "jsonrpc": "2.0",
    "method": "....",
    "params": {
        "user": {
            "name": "Alex"
        }
    },
    "id": 1
}</code></pre>
<p>for argument:</p>
<pre><code class="language-php">public function handler(string $userName): string
{
    return $userName;
}</code></pre>
<h2>Customizing The Resolution Logic</h2>
<p>If you wish to define your model binding resolution logic, you may use the <code>RPC::bind</code> method. The closure you pass to the bind method will receive the value of the params segment and should return the instance of the class that should be injected into the route. Again, this customization should take place in the boot method of your application's <code>RouteServiceProvider</code>:</p>
<pre><code class="language-php">use Sajya\Server\Facades\RPC;
use Illuminate\Support\Facades\Route;

/**
 * Define your route model bindings, pattern filters, etc.
 *
 * @return void
 */
public function boot()
{
    RPC::bind('a', function () {
        return 100;
    });
}</code></pre>
<p>This will automatically replace the substituted value in our method:</p>
<pre><code class="language-php">public function subtract(int $a, int $b): int
{
    return $a - $b; // $a = 100
}</code></pre>
<p>But at the same time, the request will contain the original value that was passed.</p>
<h2>Explicit Model Binding</h2>
<p>To register an explicit binding, use the <code>RPC::model</code> method to specify the class for a given parameter. It would help if you defined your explicit model bindings at the beginning of the <code>boot</code> method of your <code>RouteServiceProvider</code> class:</p>
<pre><code class="language-php">use Sajya\Server\Facades\RPC;
use Illuminate\Support\Facades\Route;

/**
 * Define your route model bindings, pattern filters, etc.
 *
 * @return void
 */
public function boot()
{
    RPC::model('user', User::class);
}</code></pre>
<p>It will work for anyone who expects a <code>$user</code> argument, and that value will be passed. The model will run the <code>resolveRouteBinding</code> method.</p>
<h2>Deep binding</h2>
<p>As with automatic substitution, bindings <code>RPC::bind</code> and <code>RPC::model</code> can be set for nested elements. To do this, you need to use the <code>dot</code> notation in the declaration. For example:</p>
<pre><code class="language-php">RPC::model('user.order', ...);
RPC::bind('user.order', ...;</code></pre>
<p>In turn, this will expect <code>camelCase</code> in the arguments:</p>
<pre><code class="language-php">public function handler($userOrder)</code></pre>                </main>
            </div>
        </div>
    </div>
</div>






</div>

<div class="sub-footer">
    <div class="container">
        <div class="row">
            <div class="col-sm-6 col-12 order-2 order-sm-1">
                <div class="sub-footer-inner justify-content-start mt-2 mt-sm-0">
                    <small class="text-muted">Package and documentation licensed <a
                                href="https://github.com/sajya/server/blob/master/LICENSE.md">MIT</a>.</small>
                </div>
            </div>
            <div class="col-sm-6 col-12 order-1 order-sm-2">
                <div class="sub-footer-inner">
                    <ul>
                        <li><a href="https://www.jsonrpc.org/specification" target="_blank">Specification</a></li>
                        <li><a href="https://github.com/sajya" target="_blank">GitHub</a></li>
                        <li><a href="https://jigsaw.tighten.co/" target="_blank">Built with Jigsaw</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="/assets/build/js/main.js?id=828d9074179a8aa0c8b685281b4f32ba"></script>

<!-- Insert analytics code here -->

</body>



</html>
